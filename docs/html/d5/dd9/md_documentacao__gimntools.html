<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GimnTools: Documentação Técnica da Biblioteca GimnTools</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">GimnTools<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Set of tools for image processing developed on GIMN</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('d5/dd9/md_documentacao__gimntools.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Documentação Técnica da Biblioteca GimnTools </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md10"></a></p>
<p><b>Autor</b>: Michel Raed <b>Data</b>: 2025-06-19</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
1. Introdução e Visão Geral</h1>
<p>A GimnTools é uma biblioteca Python de código aberto projetada para o processamento de imagens médicas e reconstrução tomográfica. Ela oferece um conjunto de ferramentas robustas para manipulação de imagens, geração de sinogramas, aplicação de filtros e implementação de algoritmos de reconstrução. O objetivo desta documentação é fornecer um guia completo e exaustivo para desenvolvedores e pesquisadores que desejam utilizar a GimnTools em seus projetos.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
Principais Funcionalidades</h2>
<ul>
<li><b>Manipulação de Imagens</b>: A classe <span class="tt">image</span> permite carregar, salvar e manipular imagens médicas, incluindo metadados como espaçamento e origem.</li>
<li><b>Geração de Sinogramas</b>: O módulo <span class="tt">sinogramer</span> oferece funcionalidades para criar sinogramas a partir de dados de projeção, com suporte para diferentes configurações de detectores.</li>
<li><b>Reconstrução Tomográfica</b>: A biblioteca implementa algoritmos de reconstrução como MLEM, OSEM e FBP, disponíveis no módulo <span class="tt">gimnRec</span>.</li>
<li><b>Processamento de Imagem</b>: Inclui uma variedade de filtros espaciais, de frequência e morfológicos, além de ferramentas de interpolação e utilitários matemáticos.</li>
<li><b>Geração de Phantoms</b>: Ferramentas para criar phantoms digitais, como o Derenzo, para testes e calibração de algoritmos.</li>
<li><b>Entrada e Saída (I/O)</b>: Suporte para leitura e escrita de imagens no formato DICOM, com funcionalidades de normalização.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
2. Instalação e Requisitos</h1>
<p>Para instalar a GimnTools, é recomendável o uso de um ambiente virtual para evitar conflitos de dependência.</p>
<div class="fragment"><div class="line">python -m venv gimnenv</div>
<div class="line">source gimnenv/bin/activate</div>
</div><!-- fragment --><p>A instalação da biblioteca pode ser feita diretamente a partir do código-fonte:</p>
<div class="fragment"><div class="line">git clone &lt;URL_DO_REPOSITORIO_GIMNTOOLS&gt;</div>
<div class="line">cd GimnTools</div>
<div class="line">pip install .</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Requisitos</h2>
<p>A GimnTools depende das seguintes bibliotecas Python:</p>
<ul>
<li><span class="tt">numpy</span></li>
<li><span class="tt">SimpleITK</span></li>
<li><span class="tt">itk</span></li>
<li><span class="tt">numba</span></li>
<li><span class="tt">matplotlib</span></li>
<li><span class="tt">Pillow</span></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
3. Guia de Início Rápido</h1>
<p>Este guia apresenta um exemplo simples de como carregar uma imagem, gerar um sinograma e reconstruí-la.</p>
<div class="fragment"><div class="line"><span class="keyword">from</span> <a class="code hl_class" href="../../df/da8/class_gimn_tools_1_1_ima_g_i_m_n_1_1image_1_1image.html">GimnTools.ImaGIMN.image</a> <span class="keyword">import</span> image</div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="../../d1/df0/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1sinogramer_1_1sinogramer.html">GimnTools.ImaGIMN.sinogramer.sinogramer</a> <span class="keyword">import</span> Sinogramer</div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="../../d1/dc0/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1gimn_rec_1_1reconstructors_1_1line__integral__reconstructor.html">GimnTools.ImaGIMN.gimnRec.reconstructors.line_integral_reconstructor</a> <span class="keyword">import</span> line_integral_reconstructor</div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"> </div>
<div class="line"><span class="comment"># 1. Carregar ou criar uma imagem de phantom</span></div>
<div class="line"><span class="comment"># (O ideal é carregar um phantom ou imagem real)</span></div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="../../d9/d6c/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1phantoms_1_1derenzzo.html">GimnTools.ImaGIMN.phantoms.derenzzo</a> <span class="keyword">import</span> DerenzoPhantomSlice</div>
<div class="line">phantom = DerenzoPhantomSlice(radius=64, num_sections=4, well_counts=(4,6,8,10), well_diameters=(8,6,4,2), well_separations=(16,12,8,4), section_offsets=(0.2,0.2,0.2,0.2), image_size=128)</div>
<div class="line">pixels_phantom = phantom.get_image_matrix()</div>
<div class="line"> </div>
<div class="line"><span class="comment"># 2. Gerar projeções (simuladas aqui com a transformada de Radon do scikit-image, por exemplo)</span></div>
<div class="line"><span class="comment"># A GimnTools espera um sinograma como entrada para a reconstrução.</span></div>
<div class="line"><span class="comment"># Esta etapa normalmente viria de um scanner real ou de um simulador mais complexo.</span></div>
<div class="line"><span class="keyword">from</span> skimage.transform <span class="keyword">import</span> radon</div>
<div class="line">angles = np.linspace(0., 180., 180, endpoint=<span class="keyword">False</span>)</div>
<div class="line">sinogram = radon(pixels_phantom, theta=angles, circle=<span class="keyword">True</span>)</div>
<div class="line">sinogram = np.expand_dims(sinogram.T, axis=0) <span class="comment"># Formato (slices, distancias, angulos)</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="comment"># 3. Reconstruir a imagem usando OSEM</span></div>
<div class="line">reconstructor = line_integral_reconstructor(sinogram)</div>
<div class="line">angles_rad = np.deg2rad(angles)</div>
<div class="line">reconstructed_image_obj = reconstructor.osem(iterations=10, subsets_n=4, angles=angles_rad)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># 4. Salvar a imagem reconstruída</span></div>
<div class="line"><span class="comment"># O método osem retorna a classe &#39;image&#39;, então podemos salvar diretamente</span></div>
<div class="line">reconstructed_image_obj.save_dicom(<span class="stringliteral">&quot;imagem_reconstruida.dcm&quot;</span>)</div>
<div class="line"> </div>
<div class="line">print(<span class="stringliteral">&quot;Processo concluído. Imagem reconstruída salva.&quot;</span>)</div>
<div class="ttc" id="aclass_gimn_tools_1_1_ima_g_i_m_n_1_1image_1_1image_html"><div class="ttname"><a href="../../df/da8/class_gimn_tools_1_1_ima_g_i_m_n_1_1image_1_1image.html">GimnTools.ImaGIMN.image.image</a></div><div class="ttdef"><b>Definition</b> image.py:5</div></div>
<div class="ttc" id="anamespace_gimn_tools_1_1_ima_g_i_m_n_1_1gimn_rec_1_1reconstructors_1_1line__integral__reconstructor_html"><div class="ttname"><a href="../../d1/dc0/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1gimn_rec_1_1reconstructors_1_1line__integral__reconstructor.html">GimnTools.ImaGIMN.gimnRec.reconstructors.line_integral_reconstructor</a></div><div class="ttdef"><b>Definition</b> line_integral_reconstructor.py:1</div></div>
<div class="ttc" id="anamespace_gimn_tools_1_1_ima_g_i_m_n_1_1phantoms_1_1derenzzo_html"><div class="ttname"><a href="../../d9/d6c/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1phantoms_1_1derenzzo.html">GimnTools.ImaGIMN.phantoms.derenzzo</a></div><div class="ttdef"><b>Definition</b> derenzzo.py:1</div></div>
<div class="ttc" id="anamespace_gimn_tools_1_1_ima_g_i_m_n_1_1sinogramer_1_1sinogramer_html"><div class="ttname"><a href="../../d1/df0/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1sinogramer_1_1sinogramer.html">GimnTools.ImaGIMN.sinogramer.sinogramer</a></div><div class="ttdef"><b>Definition</b> sinogramer.py:1</div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
4. Documentação Detalhada dos Módulos</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
4.1. <span class="tt">ImaGIMN.IO</span></h2>
<p>Responsável pelas operações de entrada e saída.</p>
<ul>
<li><b><span class="tt">MIIO.py</span></b>: Classe de alto nível para manipulação de I/O de imagens médicas, especialmente DICOM. Usa <span class="tt">SimpleITK</span> e <span class="tt">ITK</span> como backend. Fornece funcionalidades essenciais como leitura, escrita e normalização de imagens.</li>
<li><b><span class="tt">GimnIO.py</span></b>: Utilitários de I/O de baixo nível, como criação de pastas e salvamento de arquivos JSON.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
4.2. <span class="tt">ImaGIMN.gimnRec</span></h2>
<p>Contém os algoritmos e componentes para a reconstrução tomográfica.</p>
<ul>
<li><b><span class="tt">reconstruction_filters.py</span></b>: Implementa filtros usados na reconstrução FBP (Filtered Back-Projection), como Ram-Lak, Shepp-Logan, etc.</li>
<li><b><span class="tt">projectors.py</span></b>: Contém funções para a projeção (forward projection), que simula a aquisição de dados (cria um sinograma a partir de uma imagem).</li>
<li><b><span class="tt">backprojectors.py</span></b>: Contém funções para a retroprojeção (back-projection), o processo inverso da projeção, usado em algoritmos como FBP e iterativos.</li>
<li><b><span class="tt">corrections.py</span></b>: Funções para aplicar correções necessárias durante a reconstrução, como a correção do centro de rotação.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md19"></a>
4.2.1. <span class="tt">ImaGIMN.gimnRec.reconstructors</span></h3>
<p>Implementações concretas de algoritmos de reconstrução.</p>
<ul>
<li><b><span class="tt">line_integral_reconstructor.py</span></b>: Reconstrutor principal que implementa algoritmos baseados em integral de linha, como FBP, MLEM e OSEM. É uma classe versátil e de uso geral.</li>
<li><b><span class="tt">rotation_reconstruction.py</span></b>: Implementação que realiza a reconstrução baseada em rotações sucessivas da imagem. Serve como uma classe base ou alternativa para os reconstrutores.</li>
<li><b><span class="tt">system_matrix_reconstruction.py</span></b>: Reconstrutor que utiliza uma matriz de sistema pré-calculada para realizar as projeções e retroprojeções. Pode ser mais lento para gerar a matriz, mas mais rápido para iterar. Versão para CPU.</li>
<li><b><span class="tt">system_matrix_reconstruction2.py</span></b>: Uma segunda implementação (possivelmente experimental ou com otimizações diferentes) do reconstrutor baseado em matriz de sistema.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
4.3. <span class="tt">ImaGIMN.processing</span></h2>
<p>Ferramentas para processamento e análise de imagens.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md21"></a>
4.3.1. <span class="tt">ImaGIMN.processing.filters</span></h3>
<ul>
<li><b><span class="tt">spatial_filters.py</span></b>: Contém filtros que operam diretamente na matriz de pixels. Inclui funções para convolução 2D, aplicação de filtros separáveis e extração de vizinhanças de pixels.</li>
<li><b><span class="tt">frequency_filters.py</span></b>: Implementa filtros no domínio da frequência, como o filtro Gaussiano e o Butterworth. Útil para suavização e realce de bordas.</li>
<li><b><span class="tt">morphological_filters.py</span></b>: Funções para morfologia matemática (Erosão, Dilatação, Abertura e Fechamento), usadas para análise de formas e estruturas na imagem.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md22"></a>
4.3.2. <span class="tt">ImaGIMN.processing.interpolators</span></h3>
<ul>
<li><b><span class="tt">reconstruction.py</span></b>: Fornece diferentes métodos de interpolação (Vizinho Mais Próximo, Bilinear, Spline Beta) que são cruciais para algoritmos de rotação e reconstrução, garantindo a precisão ao acessar valores de pixels em coordenadas não inteiras.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md23"></a>
4.3.3. <span class="tt">ImaGIMN.processing.tools</span></h3>
<ul>
<li><b><span class="tt">kernels.py</span></b>: Funções para gerar kernels (matrizes) usados em filtros de convolução, como kernels Gaussianos e Butterworth de diferentes tipos (passa-baixa, passa-alta).</li>
<li><b><span class="tt">math.py</span></b>: Funções matemáticas essenciais, como convolução e deconvolução no domínio da frequência (via FFT) e rotação de imagem com diferentes interpoladores.</li>
<li><b><span class="tt">utils.py</span></b>: Utilitários diversos, com destaque para a função de redimensionamento de imagem (<span class="tt">resize</span>) que suporta múltiplos métodos de interpolação.</li>
</ul>
<h3 class="doxsection"><a class="anchor" id="autotoc_md24"></a>
4.3.4. <span class="tt">ImaGIMN.processing.ploter</span></h3>
<ul>
<li><b><span class="tt">ploter.py</span></b>: Ferramenta de visualização para plotar múltiplos slices de um volume 3D (como um sinograma ou uma imagem reconstruída) em uma grade, facilitando a inspeção visual.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md25"></a>
4.4. <span class="tt">ImaGIMN.phantoms</span></h2>
<ul>
<li><b><span class="tt">derenzzo.py</span></b>: Contém classes para a geração de phantoms de Derenzo, que são padrões de teste padrão em imagem médica para avaliar a resolução espacial de um sistema.</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md26"></a>
5. Exemplos de Uso Práticos</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md27"></a>
Exemplo 1: Filtros Morfológicos (Abertura)</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> <a class="code hl_class" href="../../df/da8/class_gimn_tools_1_1_ima_g_i_m_n_1_1image_1_1image.html">GimnTools.ImaGIMN.image</a> <span class="keyword">import</span> image</div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="../../d7/dd4/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1processing_1_1filters_1_1morphological__filters.html">GimnTools.ImaGIMN.processing.filters.morphological_filters</a> <span class="keyword">import</span> doOpen</div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Criar uma imagem de exemplo com ruído</span></div>
<div class="line">img_data = np.zeros((128, 128))</div>
<div class="line">img_data[30:100, 30:100] = 1 <span class="comment"># Objeto principal</span></div>
<div class="line"><span class="comment"># Adicionar ruído de sal</span></div>
<div class="line">noise = np.random.randint(0, 128, size=(20, 2))</div>
<div class="line">img_data[noise[:, 0], noise[:, 1]] = 1</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Aplicar o filtro de abertura para remover pequenos ruídos</span></div>
<div class="line">opened_image = doOpen(img_data)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Salvar o resultado</span></div>
<div class="line">img_obj = image(opened_image)</div>
<div class="line">img_obj.save_dicom(<span class="stringliteral">&quot;imagem_aberta.dcm&quot;</span>)</div>
<div class="line">print(<span class="stringliteral">&quot;Filtro de abertura aplicado e imagem salva.&quot;</span>)</div>
<div class="ttc" id="anamespace_gimn_tools_1_1_ima_g_i_m_n_1_1processing_1_1filters_1_1morphological__filters_html"><div class="ttname"><a href="../../d7/dd4/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1processing_1_1filters_1_1morphological__filters.html">GimnTools.ImaGIMN.processing.filters.morphological_filters</a></div><div class="ttdef"><b>Definition</b> morphological_filters.py:1</div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md28"></a>
Exemplo 2: Reconstrução com Matriz de Sistema (MLEM)</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="../../d3/da0/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1gimn_rec_1_1reconstructors_1_1system__matrix__reconstruction.html">GimnTools.ImaGIMN.gimnRec.reconstructors.system_matrix_reconstruction</a> <span class="keyword">import</span> reconstructor_system_matrix_cpu, system_matrix</div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Supondo que &#39;sino_slice&#39; é um slice 2D de um sinograma (distancias, angulos)</span></div>
<div class="line"><span class="comment"># e &#39;angles_deg&#39; é o array de ângulos em graus.</span></div>
<div class="line"><span class="comment"># Ex: sino_slice = sinogram[0, :, :]</span></div>
<div class="line"><span class="comment"># Ex: angles_deg = np.linspace(0., 180., 180, endpoint=False)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># --- Bloco de criação de dados de exemplo --- </span></div>
<div class="line"><span class="keyword">from</span> skimage.transform <span class="keyword">import</span> radon, iradon</div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="../../d9/d6c/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1phantoms_1_1derenzzo.html">GimnTools.ImaGIMN.phantoms.derenzzo</a> <span class="keyword">import</span> DerenzoPhantomSlice</div>
<div class="line">phantom = DerenzoPhantomSlice(radius=64, num_sections=4, well_counts=(4,6,8,10), well_diameters=(8,6,4,2), well_separations=(16,12,8,4), section_offsets=(0.2,0.2,0.2,0.2), image_size=128)</div>
<div class="line">pixels_phantom = phantom.get_image_matrix()</div>
<div class="line">angles_deg = np.linspace(0., 180., 180, endpoint=<span class="keyword">False</span>)</div>
<div class="line">sinogram_sk = radon(pixels_phantom, theta=angles_deg, circle=<span class="keyword">True</span>)</div>
<div class="line">sino_slice = sinogram_sk.T</div>
<div class="line"><span class="comment"># --- Fim do bloco de exemplo ---</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">rec = reconstructor_system_matrix_cpu(sinogram=np.expand_dims(sino_slice, axis=0))</div>
<div class="line">angles_rad = np.deg2rad(angles_deg)</div>
<div class="line"> </div>
<div class="line">reconstructed_img = rec.mlem(iterations=5, angles=angles_rad, verbose=<span class="keyword">True</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Salvar o resultado</span></div>
<div class="line"><span class="keyword">from</span> <a class="code hl_class" href="../../df/da8/class_gimn_tools_1_1_ima_g_i_m_n_1_1image_1_1image.html">GimnTools.ImaGIMN.image</a> <span class="keyword">import</span> image</div>
<div class="line">img_obj = image(reconstructed_img)</div>
<div class="line">img_obj.save_dicom(<span class="stringliteral">&quot;imagem_mlem_sm.dcm&quot;</span>)</div>
<div class="line">print(<span class="stringliteral">&quot;Reconstrução MLEM com matriz de sistema concluída.&quot;</span>)</div>
<div class="ttc" id="anamespace_gimn_tools_1_1_ima_g_i_m_n_1_1gimn_rec_1_1reconstructors_1_1system__matrix__reconstruction_html"><div class="ttname"><a href="../../d3/da0/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1gimn_rec_1_1reconstructors_1_1system__matrix__reconstruction.html">GimnTools.ImaGIMN.gimnRec.reconstructors.system_matrix_reconstruction</a></div><div class="ttdef"><b>Definition</b> system_matrix_reconstruction.py:1</div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md29"></a>
Exemplo 3: Redimensionar Imagem com Interpolação</h2>
<div class="fragment"><div class="line"><span class="keyword">from</span> <a class="code hl_class" href="../../df/da8/class_gimn_tools_1_1_ima_g_i_m_n_1_1image_1_1image.html">GimnTools.ImaGIMN.image</a> <span class="keyword">import</span> image</div>
<div class="line"><span class="keyword">from</span> <a class="code hl_namespace" href="../../d8/d88/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1processing_1_1tools_1_1utils.html">GimnTools.ImaGIMN.processing.tools.utils</a> <span class="keyword">import</span> resize</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Carregar a imagem</span></div>
<div class="line">img_obj = image(<span class="stringliteral">&quot;caminho/para/sua/imagem.dcm&quot;</span>)</div>
<div class="line">original_pixels = img_obj.pixels[0] <span class="comment"># Pegar um slice</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Redimensionar a imagem para 256x256 usando interpolação bilinear</span></div>
<div class="line">resized_pixels = resize(original_pixels, 256, 256, <span class="stringliteral">&#39;Bilinear&#39;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Salvar o resultado</span></div>
<div class="line">resized_obj = image(resized_pixels)</div>
<div class="line">resized_obj.save_dicom(<span class="stringliteral">&quot;imagem_redimensionada.dcm&quot;</span>)</div>
<div class="line">print(<span class="stringliteral">&quot;Imagem redimensionada e salva.&quot;</span>)</div>
<div class="ttc" id="anamespace_gimn_tools_1_1_ima_g_i_m_n_1_1processing_1_1tools_1_1utils_html"><div class="ttname"><a href="../../d8/d88/namespace_gimn_tools_1_1_ima_g_i_m_n_1_1processing_1_1tools_1_1utils.html">GimnTools.ImaGIMN.processing.tools.utils</a></div><div class="ttdef"><b>Definition</b> utils.py:1</div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md30"></a>
6. API Reference</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md31"></a>
<span class="tt">ImaGIMN.IO.MIIO</span></h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Classe/Método  </th><th class="markdownTableHeadNone">Descrição  </th><th class="markdownTableHeadNone">Parâmetros  </th><th class="markdownTableHeadNone">Retorno  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">MIIO</span>  </td><td class="markdownTableBodyNone">Classe para I/O de imagens DICOM.  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone"><span class="tt">MIIO object</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">renormalize</span>  </td><td class="markdownTableBodyNone">Normaliza a imagem para um tipo de dado.  </td><td class="markdownTableBodyNone"><span class="tt">image</span> (ndarray), <span class="tt">dtype</span> (type)  </td><td class="markdownTableBodyNone"><span class="tt">tuple</span> (ndarray, dict)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">save_dicom</span>  </td><td class="markdownTableBodyNone">Salva um array como arquivo DICOM.  </td><td class="markdownTableBodyNone"><span class="tt">image</span> (ndarray), <span class="tt">nome_arquivo</span> (str), <span class="tt">origin</span> (tuple), <span class="tt">spacing</span> (tuple), <span class="tt">save_json</span> (bool)  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md32"></a>
<span class="tt">ImaGIMN.phantoms.derenzzo.DerenzoPhantomSlice</span></h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Método/Propriedade  </th><th class="markdownTableHeadNone">Descrição  </th><th class="markdownTableHeadNone">Parâmetros  </th><th class="markdownTableHeadNone">Retorno  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">__init__</span>  </td><td class="markdownTableBodyNone">Inicializa o phantom.  </td><td class="markdownTableBodyNone"><span class="tt">radius</span>, <span class="tt">num_sections</span>, <span class="tt">well_counts</span>, <span class="tt">well_diameters</span>, <span class="tt">well_separations</span>, <span class="tt">section_offsets</span>, etc.  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">save_image</span>  </td><td class="markdownTableBodyNone">Salva o phantom como imagem.  </td><td class="markdownTableBodyNone"><span class="tt">filename</span> (str)  </td><td class="markdownTableBodyNone">-  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">get_image_matrix</span>  </td><td class="markdownTableBodyNone">Retorna a matriz de pixels do phantom.  </td><td class="markdownTableBodyNone">-  </td><td class="markdownTableBodyNone"><span class="tt">numpy.ndarray</span>  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md33"></a>
<span class="tt">ImaGIMN.processing.interpolators.reconstruction</span></h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Função  </th><th class="markdownTableHeadNone">Descrição  </th><th class="markdownTableHeadNone">Parâmetros  </th><th class="markdownTableHeadNone">Retorno  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">beta_spline_interpolation</span>  </td><td class="markdownTableBodyNone">Interpolação Spline Beta.  </td><td class="markdownTableBodyNone"><span class="tt">p00</span>, <span class="tt">p01</span>, <span class="tt">p10</span>, <span class="tt">p11</span> (float), <span class="tt">dx</span> (float), <span class="tt">dy</span> (float)  </td><td class="markdownTableBodyNone"><span class="tt">float</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">bilinear_interpolation</span>  </td><td class="markdownTableBodyNone">Interpolação Bilinear.  </td><td class="markdownTableBodyNone"><span class="tt">p00</span>, <span class="tt">p01</span>, <span class="tt">p10</span>, <span class="tt">p11</span> (float), <span class="tt">dx</span> (float), <span class="tt">dy</span> (float)  </td><td class="markdownTableBodyNone"><span class="tt">float</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">nearest_neighbor_interpolation</span>  </td><td class="markdownTableBodyNone">Interpolação do Vizinho Mais Próximo.  </td><td class="markdownTableBodyNone"><span class="tt">p00</span>, <span class="tt">p01</span>, <span class="tt">p10</span>, <span class="tt">p11</span> (float), <span class="tt">dx</span> (float), <span class="tt">dy</span> (float)  </td><td class="markdownTableBodyNone"><span class="tt">float</span>  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md34"></a>
<span class="tt">ImaGIMN.processing.tools.kernels</span></h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Função  </th><th class="markdownTableHeadNone">Descrição  </th><th class="markdownTableHeadNone">Parâmetros  </th><th class="markdownTableHeadNone">Retorno  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">generate_gaussian_kernel_in_mm</span>  </td><td class="markdownTableBodyNone">Gera um kernel Gaussiano.  </td><td class="markdownTableBodyNone"><span class="tt">size</span> (int), <span class="tt">sigma_mm</span> (float), <span class="tt">pixel_size_mm</span> (float)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">butterworth_kernel</span>  </td><td class="markdownTableBodyNone">Gera um kernel Butterworth.  </td><td class="markdownTableBodyNone"><span class="tt">size</span> (int), <span class="tt">order</span> (int), <span class="tt">cutoff</span> (float), <span class="tt">pixel_size_mm</span> (float)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">butterworth_kernel_high_pass</span>  </td><td class="markdownTableBodyNone">Gera um kernel Butterworth passa-alta.  </td><td class="markdownTableBodyNone"><span class="tt">size</span> (int), <span class="tt">order</span> (int), <span class="tt">cutoff</span> (float), <span class="tt">pixel_size_mm</span> (float)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">butterworth_kernel_low_pass</span>  </td><td class="markdownTableBodyNone">Gera um kernel Butterworth passa-baixa.  </td><td class="markdownTableBodyNone"><span class="tt">size</span> (int), <span class="tt">order</span> (int), <span class="tt">cutoff</span> (float), <span class="tt">pixel_size_mm</span> (float)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md35"></a>
<span class="tt">ImaGIMN.processing.tools.math</span></h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Função  </th><th class="markdownTableHeadNone">Descrição  </th><th class="markdownTableHeadNone">Parâmetros  </th><th class="markdownTableHeadNone">Retorno  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">deconvolution</span>  </td><td class="markdownTableBodyNone">Deconvolução no domínio da frequência.  </td><td class="markdownTableBodyNone"><span class="tt">image</span> (ndarray), <span class="tt">function</span> (ndarray)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">convolution</span>  </td><td class="markdownTableBodyNone">Convolução no domínio da frequência.  </td><td class="markdownTableBodyNone"><span class="tt">image</span> (ndarray), <span class="tt">kernel</span> (ndarray)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">rotate</span>  </td><td class="markdownTableBodyNone">Rotaciona uma imagem.  </td><td class="markdownTableBodyNone"><span class="tt">image</span> (ndarray), <span class="tt">angle</span> (float), <span class="tt">interpolation_func</span> (function), <span class="tt">center</span> (tuple)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md36"></a>
<span class="tt">ImaGIMN.processing.tools.utils</span></h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Função  </th><th class="markdownTableHeadNone">Descrição  </th><th class="markdownTableHeadNone">Parâmetros  </th><th class="markdownTableHeadNone">Retorno  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">resize</span>  </td><td class="markdownTableBodyNone">Redimensiona uma imagem.  </td><td class="markdownTableBodyNone"><span class="tt">input_img</span> (ndarray), <span class="tt">mx</span> (int), <span class="tt">my</span> (int), <span class="tt">interpolation</span> (str)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md37"></a>
<span class="tt">ImaGIMN.processing.ploter.ploter</span></h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Função  </th><th class="markdownTableHeadNone">Descrição  </th><th class="markdownTableHeadNone">Parâmetros  </th><th class="markdownTableHeadNone">Retorno  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">plot_slices</span>  </td><td class="markdownTableBodyNone">Plota slices de um volume 3D.  </td><td class="markdownTableBodyNone"><span class="tt">sinogram</span> (ndarray), <span class="tt">n_slices</span> (int), <span class="tt">x_extent</span> (tuple), <span class="tt">y_extent</span> (tuple), <span class="tt">rows</span> (int), <span class="tt">cols</span> (int), etc.  </td><td class="markdownTableBodyNone">-  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md38"></a>
<span class="tt">ImaGIMN.gimnRec.reconstructors.rotation_reconstruction.rotation_reconstructor</span></h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Método  </th><th class="markdownTableHeadNone">Descrição  </th><th class="markdownTableHeadNone">Parâmetros  </th><th class="markdownTableHeadNone">Retorno  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">mlem</span>  </td><td class="markdownTableBodyNone">Reconstrução MLEM baseada em rotação.  </td><td class="markdownTableBodyNone"><span class="tt">iterations</span> (int), <span class="tt">interpolation</span> (function), <span class="tt">angles</span> (ndarray), <span class="tt">verbose</span> (bool)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">osem</span>  </td><td class="markdownTableBodyNone">Reconstrução OSEM baseada em rotação.  </td><td class="markdownTableBodyNone"><span class="tt">iterations</span> (int), <span class="tt">subsets_n</span> (int), <span class="tt">interpolation</span> (function), <span class="tt">angles</span> (ndarray), <span class="tt">verbose</span> (bool)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
</table>
<h2 class="doxsection"><a class="anchor" id="autotoc_md39"></a>
<span class="tt">ImaGIMN.gimnRec.reconstructors.system_matrix_reconstruction2.reconstructor_system_matrix_cpu</span></h2>
<p><em>Nota: Esta classe herda de <span class="tt">line_integral_reconstructor</span>, então possui os mesmos métodos base.</em></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Método  </th><th class="markdownTableHeadNone">Descrição  </th><th class="markdownTableHeadNone">Parâmetros  </th><th class="markdownTableHeadNone">Retorno  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">mlem_tv</span>  </td><td class="markdownTableBodyNone">MLEM com regularização Total Variation.  </td><td class="markdownTableBodyNone"><span class="tt">iterations</span> (int), <span class="tt">beta</span> (float), <span class="tt">angles</span> (ndarray), <span class="tt">verbose</span> (bool)  </td><td class="markdownTableBodyNone"><span class="tt">ndarray</span>  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="autotoc_md40"></a>
7. Contribuições e Desenvolvimento</h1>
<p>Agradecemos o interesse em contribuir para a GimnTools! Para contribuir, por favor, siga os seguintes passos:</p>
<ol type="1">
<li>Faça um fork do repositório.</li>
<li>Crie uma nova branch para a sua feature (<span class="tt">git checkout -b feature/nova-feature</span>).</li>
<li>Faça o commit das suas alterações (&lsquo;git commit -am 'Adiciona nova feature&rsquo;<span class="tt">).</span></li>
<li><span class="tt"> Faça o push para a branch (</span>git push origin feature/nova-feature`).</li>
<li>Abra um Pull Request. </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
